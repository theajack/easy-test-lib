!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ETest=t():e.ETest=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"startTest",(function(){return b})),n.d(t,"isValueEqual",(function(){return r})),n.d(t,"defaultPlugin",(function(){return h})),n.d(t,"asyncPlugin",(function(){return g}));var r=function(e,t){return typeof e==typeof t&&("object"==typeof e?o(e,t):e===t)};function o(e,t){return u(e,t)&&u(t,e)}function u(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(var r in e)if(!i(e[r],t[r]))return!1;return!0}function i(e,t){var n=!0;return typeof e!=typeof t?n=!1:"object"==typeof e?o(e,t)||(n=!1):e!==t&&(n=!1),n}function a(e){return(new Date).getTime()-e}var c=function(e,t){var n=e.test,o=e.expect,u=e.args,i=n.call({test:n,expect:o,args:u},t,u);return{result:i,expect:o,passed:r(i,o)}},l=function(e,t,n,r){return new(n||(n=Promise))((function(o,u){function i(e){try{c(r.next(e))}catch(e){u(e)}}function a(e){try{c(r.throw(e))}catch(e){u(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},s=function(e,t){var n=e.test,o=e.expect,u=e.args;return l(void 0,void 0,void 0,(function(){var e;return f(this,(function(i){switch(i.label){case 0:return[4,n.call({test:n,expect:o,args:u},t,u)];case 1:return[2,{result:e=i.sent(),expect:o,passed:r(e,o)}]}}))}))};var p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,t,n,r){return new(n||(n=Promise))((function(o,u){function i(e){try{c(r.next(e))}catch(e){u(e)}}function a(e){try{c(r.throw(e))}catch(e){u(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},b=function(e){var t=e.cases,n=e.args,r=e.onTestSingle,o=e.onTestComplete,u=e.plugin,i=function(e,t){var n=[],r=!0,o=(new Date).getTime();return function(u,i){void 0===i&&(i=!1),e&&e(u),!u.passed&&r&&(r=!1),n[u.index]=u,i&&t&&t({passed:r,time:a(o),results:n})}}(r,o),l=t.length,f=0;t.forEach((function(e,t){return y(void 0,void 0,void 0,(function(){var r,o,s;return d(this,(function(y){switch(y.label){case 0:return r=(new Date).getTime(),(o=function(e,t){if(e.plugin)return"string"==typeof e.plugin?v(e.plugin):e.plugin;if("string"==typeof t)return v(t);return c}(e,u)(e,n))instanceof Promise?[4,o]:[3,2];case 1:o=y.sent(),y.label=2;case 2:return f++,s=p(p({},o),{index:t,time:a(r)}),e.name&&(s.name=e.name),i(s,f===l),[2]}}))}))}))};function v(e){return"asyncPlugin"===e?s:c}var h=c,g=s;t.default={startTest:b,isValueEqual:r,defaultPlugin:h,asyncPlugin:g}}]).default}));